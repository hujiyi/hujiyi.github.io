<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>在 Linux Mint 21 安装 Flutter 开发环境 | Laohoo</title><meta name="author" content="laohoodman"><meta name="copyright" content="laohoodman"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="开发环境： Dell Inspiron I5 7559   Intel Core i5 6th Gen 6300HQ (2.30GHz)  NVIDIA GeForce GTX 960M   Linux Mint 21 5.15.0-48-generic, locale en_US.UTF-8   OpenJDK Runtime Environment (build 11.0.16+8-post-">
<meta property="og:type" content="article">
<meta property="og:title" content="在 Linux Mint 21 安装 Flutter 开发环境">
<meta property="og:url" content="https://hujiyi.github.io/2022/10/09/install-flutter-on-linux-mint-21/index.html">
<meta property="og:site_name" content="Laohoo">
<meta property="og:description" content="开发环境： Dell Inspiron I5 7559   Intel Core i5 6th Gen 6300HQ (2.30GHz)  NVIDIA GeForce GTX 960M   Linux Mint 21 5.15.0-48-generic, locale en_US.UTF-8   OpenJDK Runtime Environment (build 11.0.16+8-post-">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png">
<meta property="article:published_time" content="2022-10-09T06:17:10.000Z">
<meta property="article:modified_time" content="2023-03-02T08:40:04.196Z">
<meta property="article:author" content="laohoodman">
<meta property="article:tag" content="flutter">
<meta property="article:tag" content="command-line tools">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://hujiyi.github.io/2022/10/09/install-flutter-on-linux-mint-21/index.html"><link rel="preconnect"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: '/pluginsSrc/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '在 Linux Mint 21 安装 Flutter 开发环境',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://hujiyi.github.io/2020/02/29/use-hexo-tag-cloud/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">56</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">Laohoo</span></a><a class="nav-page-title" href="/"><span class="site-name">在 Linux Mint 21 安装 Flutter 开发环境</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">在 Linux Mint 21 安装 Flutter 开发环境</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-10-09T06:17:10.000Z" title="发表于 2022-10-09 14:17:10">2022-10-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-03-02T08:40:04.196Z" title="更新于 2023-03-02 16:40:04">2023-03-02</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/flutter/">flutter</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">总字数:</span><span class="word-count">5.3k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>27分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="开发环境："><a href="#开发环境：" class="headerlink" title="开发环境："></a>开发环境：</h1><ul>
<li><p>Dell Inspiron I5 7559 </p>
</li>
<li><p>Intel Core i5 6th Gen 6300HQ (2.30GHz)</p>
</li>
<li><p>NVIDIA GeForce GTX 960M </p>
</li>
<li><p>Linux Mint 21 5.15.0-48-generic, locale en_US.UTF-8 </p>
</li>
<li><p>OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu122.04)</p>
</li>
<li><p>Visual Studio Code 1.72.0</p>
</li>
<li><p>Flutter version 3.3.4 on channel stable</p>
</li>
<li><p>Git 2.34.1</p>
</li>
</ul>
<hr>
<p>前段时间把用了六年的 <code>Dell Inspiron I5 7559</code> 处理了一下: 拆掉失效的电池; 把买电脑时自带的 <code>128GB</code> 固态硬盘装回去; 把<code>500GB</code>的机械硬盘拆下来, 放到硬盘底座上当个移动硬盘用; 然后给它安装了一个 <code>Linux Mint 21</code>。</p>
<p>本来想给 <code>NVIDIA GeForce GTX 960M</code> 显卡安装一个 <code>NVIDIA</code> 驱动的, 试着安装了几个版本不成功, 安装驱动后无法进入桌面, <code>CRTL+ALT+F1</code> 进入 <code>tty</code> 也不成功, 命令界面闪了一下就不见了。显卡驱动装不上, 那就只能拿它来弄其他的吧, 于是就尝试一下在 <code>Linux</code> 上安装 <code>Flutter</code> 的开发环境。</p>
<h1 id="安装-Flutter-SDK"><a href="#安装-Flutter-SDK" class="headerlink" title="安装 Flutter SDK"></a>安装 <code>Flutter SDK</code></h1><blockquote>
<p><code>Flutter SDK</code> (stable channel) 下载地址：<a target="_blank" rel="noopener" href="https://docs.flutter.dev/development/tools/sdk/releases">https://docs.flutter.dev/development/tools/sdk/releases</a> </p>
</blockquote>
<ol>
<li><p>在 <code>$HOME</code> 新建名为 <code>AppData</code> 的文件夹</p>
</li>
<li><p>下载最新版的 <code>flutter_linux_3.3.4-stable.tar.xz</code> 到 <code>$HOME/AppData</code> 文件夹</p>
</li>
<li><p>将<code>flutter_linux_3.3.4-stable.tar.xz</code>文件 解压到当前位置(Extact here), 解压后 <code>Flutter SDK</code> 的路径为 <code>$HOME/AppData/flutter</code></p>
</li>
<li><p>添加 <code>Flutter</code> 相关的环境变量</p>
</li>
</ol>
<p>执行命令:<code>xed ~/.bashrc</code>, 在<code>.bashrc</code> 文件的最末尾添加以下内容:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export PATH=&quot;$PATH:$HOME/AppData/flutter/bin&quot;</span><br><span class="line">export PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li><code>xed</code> 是 <code>Linux Mint</code> 自带的文本编辑器, 使用其他版本的 <code>Linux</code>时用相应的命令替换</li>
<li>可以执行 <code>source ~/.bashrc</code> 命令让修改后的环境变量立即生效</li>
</ol>
</blockquote>
<ol start="5">
<li><code>Flutter</code> 环境检查</li>
</ol>
<p>执行 <code>Flutter</code> 环境检查命令: <code>flutter doctor -v</code></p>
<blockquote>
<p><code>Linux</code> 环境下 <code>flutter doctor</code> 命令需要依赖 <code>Git</code>, 在命令执行前要先确保电脑已经安装 <code>Git</code></p>
</blockquote>
<p>命令执行结果如下所示:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ flutter doctor -v</span><br><span class="line">Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this <span class="built_in">source</span>!</span><br><span class="line">Running <span class="string">&quot;flutter pub get&quot;</span> <span class="keyword">in</span> flutter_tools...                       4.9s</span><br><span class="line">[✓] Flutter (Channel stable, 3.3.4, on Linux Mint 21 5.15.0-48-generic, locale en_US.UTF-8)</span><br><span class="line">    • Flutter version 3.3.4 on channel stable at /home/laohoo/AppData/flutter</span><br><span class="line">    • Upstream repository https://github.com/flutter/flutter.git</span><br><span class="line">    • Framework revision eb6d86ee27 (3 days ago), 2022-10-04 22:31:45 -0700</span><br><span class="line">    • Engine revision c08d7d5efc</span><br><span class="line">    • Dart version 2.18.2</span><br><span class="line">    • DevTools version 2.15.0</span><br><span class="line">    • Pub download mirror https://pub.flutter-io.cn</span><br><span class="line">    • Flutter download mirror https://storage.flutter-io.cn</span><br><span class="line"></span><br><span class="line">[✗] Android toolchain - develop <span class="keyword">for</span> Android devices</span><br><span class="line">    ✗ Unable to locate Android SDK.</span><br><span class="line">      Install Android Studio from: https://developer.android.com/studio/index.html</span><br><span class="line">      On first launch it will assist you <span class="keyword">in</span> installing the Android SDK components.</span><br><span class="line">      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup <span class="keyword">for</span> detailed instructions).</span><br><span class="line">      If the Android SDK has been installed to a custom location, please use</span><br><span class="line">      `flutter config --android-sdk` to update to that location.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[✗] Chrome - develop <span class="keyword">for</span> the web (Cannot find Chrome executable at google-chrome)</span><br><span class="line">    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.</span><br><span class="line"></span><br><span class="line">[✗] Linux toolchain - develop <span class="keyword">for</span> Linux desktop</span><br><span class="line">    • Ubuntu clang version 14.0.0-1ubuntu1</span><br><span class="line">    • cmake version 3.22.1</span><br><span class="line">    • ninja version 1.10.1</span><br><span class="line">    • pkg-config version 0.29.2</span><br><span class="line">    ✗ GTK 3.0 development libraries are required <span class="keyword">for</span> Linux development.</span><br><span class="line">      They are likely available from your distribution (e.g.: apt install libgtk-3-dev)</span><br><span class="line"></span><br><span class="line">[!] Android Studio (not installed)</span><br><span class="line">    • Android Studio not found; download from https://developer.android.com/studio/index.html</span><br><span class="line">      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup <span class="keyword">for</span> detailed instructions).</span><br><span class="line"></span><br><span class="line">[✓] VS Code (version 1.72.0)</span><br><span class="line">    • VS Code at /usr/share/code</span><br><span class="line">    • Flutter extension version 3.50.0</span><br><span class="line"></span><br><span class="line">[✓] Connected device (1 available)</span><br><span class="line">    • Linux (desktop) • linux • linux-x64 • Linux Mint 21 5.15.0-48-generic</span><br><span class="line"></span><br><span class="line">[✓] HTTP Host Availability</span><br><span class="line">    • All required HTTP hosts are available</span><br><span class="line"></span><br><span class="line">! Doctor found issues <span class="keyword">in</span> 4 categories.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>检查结果显示有4类问题:</p>
<ol>
<li><p><code>[✗] Android toolchain - develop for Android devices</code> : 用于生成和运行 <code>Android</code> 应用程序的开发工具链, 目前还没有安装  Android SDK</p>
</li>
<li><p><code>[✗] Chrome - develop for the web </code>: 生成和运行 Web 项目时需要使用 <code>Chrome</code> 浏览器, <code>Linux Mint</code> 自带的 <code>Firefox</code> 不认</p>
</li>
<li><p><code>[✗] Linux toolchain - develop for Linux desktop</code>: 用于生成和运行 <code>Linux</code>桌面应用程序的开发工具链</p>
</li>
<li><p><code>[!] Android Studio (not installed)</code>: 没有安装 <code>Android Studio</code>, 这个不打算安装了</p>
</li>
</ol>
<blockquote>
<p>并不是所有的工具链都要安装, 只安装需要的<code>目标平台</code>的工具链就要以了。</p>
</blockquote>
<h1 id="安装-Linux-工具链-Linux-toolchain-develop-for-Linux-desktop"><a href="#安装-Linux-工具链-Linux-toolchain-develop-for-Linux-desktop" class="headerlink" title="安装 Linux 工具链(Linux toolchain - develop for Linux desktop)"></a>安装 Linux 工具链(Linux toolchain - develop for Linux desktop)</h1><p><code>Linux</code> 工具链的安装比较简单,直接执行以下命令即可: </p>
<p><code>sudo apt-get install clang cmake ninja-build pkg-config libgtk-3-dev liblzma-dev libstdc++-12-dev</code></p>
<p>命令执行过程(部分), 如下所示:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ <span class="built_in">sudo</span> apt-get install clang cmake ninja-build pkg-config libgtk-3-dev liblzma-dev libstdc++-12-dev</span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">liblzma-dev is already the newest version (5.2.5-2ubuntu1).</span><br><span class="line">pkg-config is already the newest version (0.29.2-1ubuntu3).</span><br><span class="line">clang is already the newest version (1:14.0-55~exp2).</span><br><span class="line">ninja-build is already the newest version (1.10.1-1).</span><br><span class="line">cmake is already the newest version (3.22.1-1ubuntu1.22.04.1).</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>Flutter</code> 官方网站安装指导中缺少了 <code>libstdc++-12-dev</code>, 在部分系统上调试项目时, 会出现</p>
</blockquote>
<h2 id="可能出现的错误"><a href="#可能出现的错误" class="headerlink" title="可能出现的错误"></a>可能出现的错误</h2><p>在部分<code>Linux</code>系统上调试<code>Flutter</code>项目时, 可能会出现以下的错误:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">Launching lib/main.dart on Linux <span class="keyword">in</span> debug mode...</span><br><span class="line">CMake Error at /usr/share/cmake-3.22/Modules/CMakeTestCXXCompiler.cmake:62 (message):</span><br><span class="line">  The C++ compiler</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;/usr/bin/clang++&quot;</span></span><br><span class="line"></span><br><span class="line">  is not able to compile a simple <span class="built_in">test</span> program.</span><br><span class="line"></span><br><span class="line">  It fails with the following output:</span><br><span class="line"></span><br><span class="line">    Change Dir: /home/bul/Desktop/app_test/build/linux/x64/debug/CMakeFiles/CMakeTmp</span><br><span class="line"></span><br><span class="line">    Run Build Command(s):/usr/bin/ninja cmTC_6702a &amp;&amp; [1/2] Building CXX object CMakeFiles/cmTC_6702a.<span class="built_in">dir</span>/testCXXCompiler.cxx.o</span><br><span class="line">    [2/2] Linking CXX executable cmTC_6702a</span><br><span class="line">    FAILED: cmTC_6702a </span><br><span class="line">    : &amp;&amp; /usr/bin/clang++   CMakeFiles/cmTC_6702a.<span class="built_in">dir</span>/testCXXCompiler.cxx.o -o cmTC_6702a   &amp;&amp; :</span><br><span class="line">    /usr/bin/ld: cannot find -lstdc++: No such file or directory</span><br><span class="line">    clang: error: linker <span class="built_in">command</span> failed with <span class="built_in">exit</span> code 1 (use -v to see invocation)</span><br><span class="line">    ninja: build stopped: subcommand failed.</span><br><span class="line"></span><br><span class="line">  CMake will not be able to correctly generate this project.</span><br><span class="line">Call Stack (most recent call first):</span><br><span class="line">  CMakeLists.txt:3 (project)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Building Linux application...                                           </span><br><span class="line">Exception: Unable to generate build files</span><br></pre></td></tr></table></figure>

<p>错误的原因是官方的文档少安装了一个依赖: <code>libstdc++-12-dev</code>, 安装上去即可(上面的<code>Linux</code>工具链安装命令中已包含)。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install lib32stdc++-12-dev</span><br></pre></td></tr></table></figure>

<h1 id="安装-Android-toolchain"><a href="#安装-Android-toolchain" class="headerlink" title="安装 Android toolchain"></a>安装 <code>Android toolchain</code></h1><p><code>Android toolchain</code> 需要的组件包括两大块: <code>Android SDK</code>, <code>Android 模拟器</code></p>
<h2 id="使用Command-line-Tools安装-Android-SDK"><a href="#使用Command-line-Tools安装-Android-SDK" class="headerlink" title="使用Command-line Tools安装 Android SDK"></a>使用<code>Command-line Tools</code>安装 <code>Android SDK</code></h2><blockquote>
<p><code>Android SDK Command-line Tools(latest)</code> 下载地址：<a target="_blank" rel="noopener" href="https://developer.android.google.cn/studio?hl=zh-cn#command-tools">https://developer.android.google.cn/studio?hl=zh-cn#command-tools</a></p>
</blockquote>
<ol>
<li>下载、解压缩  <code>Android SDK Command-line Tools(latest)</code></li>
</ol>
<p>在 <code>$HOME/AppData/</code> 文件夹中新建名为<code>android_sdk</code> 的文件夹, 下载最新的 <code>Linux</code> 版本的 <code>Android SDK Command-line Tools(latest)</code>文件 <code>commandlinetools-linux-8512546_latest.zip</code> (如有更新的版本, 请自行替换), 解压缩到以下位置: <code>$HOME/AppData/android_sdk/cmdline-tools/latest</code> , <code>latest</code> 文件夹内包含 <code>bin</code>、<code>lib</code> 文件夹。</p>
<ol start="2">
<li>修改用户环境变量</li>
</ol>
<p>执行命令: <code>xed ~/.bashrc</code>, 添加 <code>ANDROID_HOME</code> 环境变量 和 <code>Android SDK Command-line Tools(latest)</code>路径, 如下所示:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export PATH=&quot;$PATH:$HOME/AppData/flutter/bin&quot;</span><br><span class="line">export PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br><span class="line"></span><br><span class="line">export PATH=&quot;$PATH:$HOME/AppData/android_sdk/cmdline-tools/latest/bin&quot;</span><br><span class="line">export ANDROID_HOME=$HOME/AppData/android_sdk</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>安装 <code>Android SDK</code> 软件包(组件)</li>
</ol>
<p>配置好 <code>Android SDK Command-line Tools(latest)</code> 路径后, 可以用<code>sdkmanager</code> 命令来安装 <code>Android SDK</code> 软件包, 安装命令格式: <code>sdkmanager &lt;packages&gt;</code></p>
<p><code>Flutter SDK</code>最少需要三个组件: <code>platform-tools</code>, <code>build-tools</code>, <code>platforms</code>, 其中 <code>build-tools</code>和<code>platforms</code> 的版本会跟随 <code>Flutter SDK</code> 版本而不同。</p>
<blockquote>
<ol>
<li>如果不能确定当前 <code>Flutter SDK</code> 需要的版本号, 可以任意安装某个版本, 当第一次运行程序时, 会自动检查并安装合适的版本。</li>
<li><code>Flutter SDK 3.3.4</code> 需要的版本为: <code>&quot;build-tools;30.0.3&quot;</code>、 <code>&quot;platforms;android-31&quot; </code></li>
</ol>
</blockquote>
<p>安装命令:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sdkmanager <span class="string">&quot;platform-tools&quot;</span> <span class="string">&quot;build-tools;30.0.3&quot;</span> <span class="string">&quot;platforms;android-31&quot;</span> </span><br></pre></td></tr></table></figure>

<p>显示已安装和可用的<code>Android SDK</code> 组件: <code>sdkmanager --list</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ sdkmanager --list</span><br><span class="line">Installed packages:=====================] 100% Computing updates...             </span><br><span class="line">  Path                 | Version | Description                | Location            </span><br><span class="line">  -------              | ------- | -------                    | -------             </span><br><span class="line">  build-tools;30.0.3   | 30.0.3  | Android SDK Build-Tools 30.0.3 | build-tools/30.0.3 </span><br><span class="line">  platform-tools       | 33.0.3  | Android SDK Platform-Tools | platform-tools      </span><br><span class="line">  platforms;android-31 | 1       | Android SDK Platform 31    | platforms/android-31 </span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<p>执行 <code>Flutter</code> 环境检查, 结果如下所示:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ flutter doctor -v</span><br><span class="line">Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this <span class="built_in">source</span>!</span><br><span class="line">[✓] Flutter (Channel stable, 3.3.4, on Linux Mint 21 5.15.0-48-generic, locale en_US.UTF-8)</span><br><span class="line">    • Flutter version 3.3.4 on channel stable at /home/laohoo/AppData/flutter</span><br><span class="line">    • Upstream repository https://github.com/flutter/flutter.git</span><br><span class="line">    • Framework revision eb6d86ee27 (3 days ago), 2022-10-04 22:31:45 -0700</span><br><span class="line">    • Engine revision c08d7d5efc</span><br><span class="line">    • Dart version 2.18.2</span><br><span class="line">    • DevTools version 2.15.0</span><br><span class="line">    • Pub download mirror https://pub.flutter-io.cn</span><br><span class="line">    • Flutter download mirror https://storage.flutter-io.cn</span><br><span class="line"></span><br><span class="line">[!] Android toolchain - develop <span class="keyword">for</span> Android devices (Android SDK version 31.0.0)</span><br><span class="line">    • Android SDK at /home/laohoo/AppData/android_sdk</span><br><span class="line">    • Platform android-33, build-tools 31.0.0</span><br><span class="line">    • ANDROID_HOME = /home/laohoo/AppData/android_sdk</span><br><span class="line">    • Java binary at: /usr/bin/java</span><br><span class="line">    • Java version OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu122.04)</span><br><span class="line">    ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses</span><br><span class="line"></span><br><span class="line">[✗] Chrome - develop <span class="keyword">for</span> the web (Cannot find Chrome executable at google-chrome)</span><br><span class="line">    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.</span><br><span class="line"></span><br><span class="line">[✓] Linux toolchain - develop <span class="keyword">for</span> Linux desktop</span><br><span class="line">    • Ubuntu clang version 14.0.0-1ubuntu1</span><br><span class="line">    • cmake version 3.22.1</span><br><span class="line">    • ninja version 1.10.1</span><br><span class="line">    • pkg-config version 0.29.2</span><br><span class="line"></span><br><span class="line">[!] Android Studio (not installed)</span><br><span class="line">    • Android Studio not found; download from https://developer.android.com/studio/index.html</span><br><span class="line">      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup <span class="keyword">for</span> detailed instructions).</span><br><span class="line"></span><br><span class="line">[✓] VS Code (version 1.72.0)</span><br><span class="line">    • VS Code at /usr/share/code</span><br><span class="line">    • Flutter extension version 3.50.0</span><br><span class="line"></span><br><span class="line">[✓] Connected device (1 available)</span><br><span class="line">    • Linux (desktop) • linux • linux-x64 • Linux Mint 21 5.15.0-48-generic</span><br><span class="line"></span><br><span class="line">[✓] HTTP Host Availability</span><br><span class="line">    • All required HTTP hosts are available</span><br><span class="line"></span><br><span class="line">! Doctor found issues <span class="keyword">in</span> 3 categories.</span><br></pre></td></tr></table></figure>

<p><code>Android 工具链</code>变成感叹号, 表示还没有完全解决问题</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[!] Android toolchain - develop <span class="keyword">for</span> Android devices (Android SDK version 31.0.0)</span><br><span class="line">    • Android SDK at /home/laohoo/AppData/android_sdk</span><br><span class="line">    • Platform android-33, build-tools 31.0.0</span><br><span class="line">    • ANDROID_HOME = /home/laohoo/AppData/android_sdk</span><br><span class="line">    • Java binary at: /usr/bin/java</span><br><span class="line">    • Java version OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu122.04)</span><br><span class="line">    ! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>! Some Android licenses not accepted.  To resolve this, run: flutter doctor --android-licenses</code>: 还没有接受 Andorid 的协议, 执行命令: <code>flutter doctor --android-licenses</code></p>
</blockquote>
<p>接受 <code>Android licenses</code>, 执行命令 <code>flutter doctor --android-licenses</code>, 全部问题回答 <code>yes</code>, 如下所示(内容太长, 只显示一小部分):</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ flutter doctor --android-licenses</span><br><span class="line">Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this <span class="built_in">source</span>!</span><br><span class="line">5 of 6 SDK package licenses not accepted. 100% Computing updates...             </span><br><span class="line">Review licenses that have not been accepted (y/N)? y</span><br></pre></td></tr></table></figure>

<p>接受协议后再次执行 <code>Flutter</code> 环境检查, 结果如下所示:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ flutter doctor -v</span><br><span class="line">Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this <span class="built_in">source</span>!</span><br><span class="line">[✓] Flutter (Channel stable, 3.3.4, on Linux Mint 21 5.15.0-48-generic, locale en_US.UTF-8)</span><br><span class="line">    • Flutter version 3.3.4 on channel stable at /home/laohoo/AppData/flutter</span><br><span class="line">    • Upstream repository https://github.com/flutter/flutter.git</span><br><span class="line">    • Framework revision eb6d86ee27 (3 days ago), 2022-10-04 22:31:45 -0700</span><br><span class="line">    • Engine revision c08d7d5efc</span><br><span class="line">    • Dart version 2.18.2</span><br><span class="line">    • DevTools version 2.15.0</span><br><span class="line">    • Pub download mirror https://pub.flutter-io.cn</span><br><span class="line">    • Flutter download mirror https://storage.flutter-io.cn</span><br><span class="line"></span><br><span class="line">[✓] Android toolchain - develop <span class="keyword">for</span> Android devices (Android SDK version 31.0.0)</span><br><span class="line">    • Android SDK at /home/laohoo/AppData/android_sdk</span><br><span class="line">    • Platform android-33, build-tools 31.0.0</span><br><span class="line">    • ANDROID_HOME = /home/laohoo/AppData/android_sdk</span><br><span class="line">    • Java binary at: /usr/bin/java</span><br><span class="line">    • Java version OpenJDK Runtime Environment (build 11.0.16+8-post-Ubuntu-0ubuntu122.04)</span><br><span class="line">    • All Android licenses accepted.</span><br><span class="line"></span><br><span class="line">[✗] Chrome - develop <span class="keyword">for</span> the web (Cannot find Chrome executable at google-chrome)</span><br><span class="line">    ! Cannot find Chrome. Try setting CHROME_EXECUTABLE to a Chrome executable.</span><br><span class="line"></span><br><span class="line">[✓] Linux toolchain - develop <span class="keyword">for</span> Linux desktop</span><br><span class="line">    • Ubuntu clang version 14.0.0-1ubuntu1</span><br><span class="line">    • cmake version 3.22.1</span><br><span class="line">    • ninja version 1.10.1</span><br><span class="line">    • pkg-config version 0.29.2</span><br><span class="line"></span><br><span class="line">[!] Android Studio (not installed)</span><br><span class="line">    • Android Studio not found; download from https://developer.android.com/studio/index.html</span><br><span class="line">      (or visit https://flutter.dev/docs/get-started/install/linux#android-setup <span class="keyword">for</span> detailed instructions).</span><br><span class="line"></span><br><span class="line">[✓] VS Code (version 1.72.0)</span><br><span class="line">    • VS Code at /usr/share/code</span><br><span class="line">    • Flutter extension version 3.50.0</span><br><span class="line"></span><br><span class="line">[✓] Connected device (1 available)</span><br><span class="line">    • Linux (desktop) • linux • linux-x64 • Linux Mint 21 5.15.0-48-generic</span><br><span class="line"></span><br><span class="line">[✓] HTTP Host Availability</span><br><span class="line">    • All required HTTP hosts are available</span><br><span class="line"></span><br><span class="line">! Doctor found issues <span class="keyword">in</span> 2 categories.</span><br></pre></td></tr></table></figure>

<h1 id="安装模拟器"><a href="#安装模拟器" class="headerlink" title="安装模拟器"></a>安装模拟器</h1><p>使用命令 <code>sdkmanager emulator</code> 安装模拟器, 命令执行过程如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ sdkmanager emulator</span><br><span class="line">[=======================================] 100% Unzipping... emulator/bin64/tune2</span><br></pre></td></tr></table></figure>

<p>安装模拟器镜像前, 可以通过 <code>sdkmanager --list</code> 查看当前可用的<code>模拟器镜像</code>, 选择合适的镜像安装。</p>
<p><code>sdkmanager</code>安装模拟器镜像过程如下所示:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ sdkmanager <span class="string">&quot;system-images;android-31;default;x86_64&quot;</span></span><br><span class="line">[=======================================] 100% Unzipping... x86_64/data/misc/mod</span><br></pre></td></tr></table></figure>

<h1 id="配置模拟器硬件加速"><a href="#配置模拟器硬件加速" class="headerlink" title="配置模拟器硬件加速"></a>配置模拟器硬件加速</h1><p><code>Linux</code> 使用 <code>KVM</code> 来支持模拟器的硬件加速, 在安装使用 <code>KVM</code> 之前先要检查电脑是否支持虚拟化功能</p>
<p>安装 <code>cpu-checker</code> 软件包: <code>sudo apt install cpu-checker</code>, 命令执行过程如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ <span class="built_in">sudo</span> apt install cpu-checker</span><br><span class="line">[<span class="built_in">sudo</span>] password <span class="keyword">for</span> laohoo:       </span><br><span class="line">Reading package lists... Done</span><br><span class="line">Building dependency tree... Done</span><br><span class="line">Reading state information... Done</span><br><span class="line">The following additional packages will be installed:</span><br><span class="line">  msr-tools</span><br><span class="line">The following NEW packages will be installed:</span><br><span class="line">  cpu-checker msr-tools</span><br><span class="line">0 upgraded, 2 newly installed, 0 to remove and 0 not upgraded.</span><br><span class="line">Need to get 17.1 kB of archives.</span><br><span class="line">After this operation, 67.6 kB of additional disk space will be used.</span><br><span class="line">Do you want to <span class="built_in">continue</span>? [Y/n] y</span><br><span class="line">Get:1 http://mirrors.aliyun.com/ubuntu jammy/main amd64 msr-tools amd64 1.3-4 [10.3 kB]</span><br><span class="line">Get:2 http://mirrors.aliyun.com/ubuntu jammy/main amd64 cpu-checker amd64 0.7-1.3build1 [6,800 B]</span><br><span class="line">Fetched 17.1 kB <span class="keyword">in</span> 0s (187 kB/s)       </span><br><span class="line">Selecting previously unselected package msr-tools.</span><br><span class="line">(Reading database ... 295693 files and directories currently installed.)</span><br><span class="line">Preparing to unpack .../msr-tools_1.3-4_amd64.deb ...</span><br><span class="line">Unpacking msr-tools (1.3-4) ...</span><br><span class="line">Selecting previously unselected package cpu-checker.</span><br><span class="line">Preparing to unpack .../cpu-checker_0.7-1.3build1_amd64.deb ...</span><br><span class="line">Unpacking cpu-checker (0.7-1.3build1) ...</span><br><span class="line">Setting up msr-tools (1.3-4) ...</span><br><span class="line">Setting up cpu-checker (0.7-1.3build1) ...</span><br><span class="line">Processing triggers <span class="keyword">for</span> man-db (2.10.2-1) ...</span><br></pre></td></tr></table></figure>


<p>检查是否支持虚拟化: <code>egrep -c &#39;(vmx|svm)&#39; /proc/cpuinfo</code>, 命令执行过程如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ egrep -c <span class="string">&#x27;(vmx|svm)&#x27;</span> /proc/cpuinfo</span><br><span class="line">8</span><br></pre></td></tr></table></figure>

<blockquote>
<p>输出值 1 或更大值表示支持虚拟化。输出值 0 表示您的 CPU 不支持硬件虚拟化。</p>
</blockquote>
<p>确定电脑是否能够运行硬件加速的 KVM 虚拟机: <code>kvm-ok</code>, 命令执行过程如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ kvm-ok</span><br><span class="line">INFO: /dev/kvm exists</span><br><span class="line">KVM acceleration can be used</span><br></pre></td></tr></table></figure>

<blockquote>
<p>上述结果表示当前电脑能够运行硬件加速的 <code>KVM</code> 虚拟机</p>
</blockquote>
<p>在 <code>Linux</code> 上安装 <code>KVM</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt-get install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils</span><br></pre></td></tr></table></figure>

<h1 id="创建Android模拟器"><a href="#创建Android模拟器" class="headerlink" title="创建Android模拟器"></a>创建<code>Android</code>模拟器</h1><p>通过命令 <code>avdmanager</code> 来创建<code>Android</code>模拟器, 命令格式: <code>avdmanager create avd -n 模拟器名 -k &quot;模拟器镜像名&quot;</code></p>
<blockquote>
<ol>
<li><code>模拟器名</code> 用于运行模拟器时调用</li>
<li><code>模拟器镜像名</code> 为之前已经安装的镜像</li>
</ol>
</blockquote>
<p>命令执行过程如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ avdmanager create avd -n huawei -k <span class="string">&quot;system-images;android-31;default;x86_64&quot;</span></span><br><span class="line">Auto-selecting single ABI x86_64========] 100% Fetch remote repository...       </span><br><span class="line">Do you wish to create a custom hardware profile? [no] </span><br></pre></td></tr></table></figure>

<blockquote>
<ol>
<li>此处为方便回答 <code>no</code>, <code>yes</code> 的选项太多了, 回答了70几项还没有结束, 最关键是还看不懂.</li>
<li><code>huawei</code> 是模拟器的名字</li>
<li><code>&quot;system-images;android-31;default;x86_64&quot;</code> 是模拟器镜像名</li>
</ol>
</blockquote>
<h1 id="启动模拟器"><a href="#启动模拟器" class="headerlink" title="启动模拟器"></a>启动模拟器</h1><p>查看当前已经建好的模拟器: <code>avdmanager list avd</code>, 命令执行结果如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">aohoo@laohoo-Inspiron-7559:~/Desktop$ avdmanager list avd</span><br><span class="line">Available Android Virtual Devices:</span><br><span class="line">    Name: huawei</span><br><span class="line">    Path: /home/laohoo/.android/avd/huawei.avd</span><br><span class="line">  Target: Default Android System Image</span><br><span class="line">          Based on: Android 12.0 (S) Tag/ABI: default/x86_64</span><br><span class="line">  Sdcard: 512 MB</span><br></pre></td></tr></table></figure>

<p>启动模拟器的命令位于 <code>Android SDK</code> 的 <code>emulator</code> 文件夹下, 需要先添加该文件夹的路径到环境变量中。</p>
<p>修改环境变量: <code>xed ~/.bashrc</code></p>
<p><code>~/.bashrc</code> 文件末尾修改后的内容如下: </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">export PATH=&quot;$PATH:$HOME/AppData/flutter/bin&quot;</span><br><span class="line">export PATH=&quot;$PATH:$HOME/AppData/android_sdk/cmdline-tools/latest/bin&quot;</span><br><span class="line">export PATH=&quot;$PATH:$HOME/AppData/android_sdk/emulator&quot;</span><br><span class="line">export PUB_HOSTED_URL=https://pub.flutter-io.cn</span><br><span class="line">export FLUTTER_STORAGE_BASE_URL=https://storage.flutter-io.cn</span><br><span class="line">export ANDROID_HOME=$HOME/AppData/android_sdk</span><br></pre></td></tr></table></figure>

<p>启动模拟器的命令: <code>emulator -avd 模拟器名</code>, 命令执行过程如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Desktop$ emulator -avd huawei</span><br><span class="line">INFO    | Android emulator version 31.3.11.0 (build_id 9058569) (CL:N/A)</span><br><span class="line">emulator: INFO: Found systemPath /home/laohoo/AppData/android_sdk/system-images/android-31/default/x86_64/</span><br><span class="line">INFO    | Duplicate loglines will be removed, <span class="keyword">if</span> you wish to see each indiviudal line launch with the -log-nofilter flag.</span><br><span class="line">WARNING | unexpected system image feature string, emulator might not <span class="keyword">function</span> correctly, please try updating the emulator.</span><br><span class="line">WARNING | cannot add library /home/laohoo/AppData/android_sdk/emulator/qemu/linux-x86_64/lib64/vulkan/libvulkan.so: failed</span><br><span class="line">INFO    | added library /home/laohoo/AppData/android_sdk/emulator/lib64/vulkan/libvulkan.so</span><br><span class="line">MESA-INTEL: warning: Performance support disabled, consider sysctl dev.i915.perf_stream_paranoid=0</span><br><span class="line"></span><br><span class="line">INFO    | configAndStartRenderer: setting vsync to 60 hz</span><br><span class="line">INFO    | Sending adb public key [QAAAACPLTUN1QxgyNvTke2ABrlB0HlUVCDlT/YFb/fooM9bItTYvgmZ9+lCSgqgYyQxmkF+TOiBom0UMQ8iidd9qr0yLKd+12SVI5GxZLch4gE7KY+Dm/7MRLso5k6XsMWu4wusaWXIsShzHkMh86Tx16H1OB+GqPaJA5EIjcVHiovK2mRHBz8swQ5+2xJ5fqN4oOEzCRq71se4U5ykFBLmGRSY+BGwGgfqtRAWBZFhZCzL7Jy8ten9Q1cIkOyzLOvOFAZFqdEdMmtTPjBeug1VtTUcL16wGm+PH0MsO0rOH7M7Y7WxjsETt5qXw7BnY80eAyBNCURzxXMoAtX0YBxk9NL3dAuyZmYRz+btLQ7tpYOqpO535s31I+YvQLiXW0bS23lHCBl5CTyV7COZ90BZ2tQp2N37/65nE+jplU7U4NDvA45/+uHCCeFiMR6jegepNi3YUrl9pb6ti/O2+mD3s/YP9pQ/7TokunOG9h5IXVjtdela4jKyLJer3o70PDMNFZtiebQ/8QGT/m5NGp/1wrHMyeGDCYLc5qaEexjD9QzZQyM9xOfiMK/78RBqo7FX0ihL5uMfKAQ2FFD2IQsd8FsYgIS7kzSVZuS0l/8HyBYrsgCt0mBq2A54PvPTCK/UcMdrzj2SpM5yifdEJ/PAGWtD6kwEWa9o9siYu8dBb7Zibw4mnBAEAAQA= laohoo@unknown]</span><br><span class="line">INFO    | injectedQemuChannel!</span><br><span class="line">INFO    | Informing listeners of injection.</span><br><span class="line">INFO    | Rootcanal has  been activated.</span><br><span class="line">WARNING | *** No gRPC protection active, consider launching with the -grpc-use-jwt flag.***</span><br><span class="line">INFO    | Started GRPC server at 127.0.0.1:8554, security: Local, auth: none</span><br><span class="line">INFO    | Advertising <span class="keyword">in</span>: /run/user/1000/avd/running/pid_17579.ini</span><br><span class="line">INFO    | setDisplayConfigs w 320 h 640 dpiX 160 dpiY 160</span><br><span class="line">INFO    | Wait <span class="keyword">for</span> emulator (pid 17579) 20 seconds to shutdown gracefully before <span class="built_in">kill</span>;you can <span class="built_in">set</span> environment variable ANDROID_EMULATOR_WAIT_TIME_BEFORE_KILL(<span class="keyword">in</span> seconds) to change the default value (20 seconds)</span><br><span class="line"></span><br><span class="line">INFO    | Info: Sandboxing disabled by user. ((null):<span class="number">0</span>, (null))</span><br><span class="line"></span><br><span class="line">INFO    | Closing down rootcanal.</span><br></pre></td></tr></table></figure>

<h1 id="创建-Flutter-项目"><a href="#创建-Flutter-项目" class="headerlink" title="创建 Flutter 项目"></a>创建 <code>Flutter</code> 项目</h1><p>创建<code>Flutter</code>项目的命令格式: <code>flutter create &lt;项目名称&gt;</code></p>
<blockquote>
<p><code>项目名称</code> 由多个单词组成时, 单词之间用下划线<code>_</code>分隔, 不能使用短横线 <code>-</code></p>
</blockquote>
<p>创建项目的命令执行过程如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Sources/flutter_repos$ flutter create my_store_app</span><br><span class="line">Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this <span class="built_in">source</span>!</span><br><span class="line">Creating project my_store_app...</span><br><span class="line">Running <span class="string">&quot;flutter pub get&quot;</span> <span class="keyword">in</span> my_store_app...                     1,992ms</span><br><span class="line">Wrote 127 files.</span><br><span class="line"></span><br><span class="line">All <span class="keyword">done</span>!</span><br><span class="line">In order to run your application, <span class="built_in">type</span>:</span><br><span class="line"></span><br><span class="line">  $ <span class="built_in">cd</span> my_store_app</span><br><span class="line">  $ flutter run</span><br><span class="line"></span><br><span class="line">Your application code is <span class="keyword">in</span> my_store_app/lib/main.dart.</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h1><p>进入新创建的项目文件夹, 运行程序:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> my_store_app</span><br><span class="line">flutter run</span><br></pre></td></tr></table></figure>

<p>命令执行过程如下所示:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Sources/flutter_repos/my_store_app$ flutter run</span><br><span class="line">Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this <span class="built_in">source</span>!</span><br><span class="line">Using hardware rendering with device Android SDK built <span class="keyword">for</span> x86 64. If you notice graphics artifacts, consider enabling software rendering</span><br><span class="line">with <span class="string">&quot;--enable-software-rendering&quot;</span>.</span><br><span class="line">Launching lib/main.dart on Android SDK built <span class="keyword">for</span> x86 64 <span class="keyword">in</span> debug mode...</span><br><span class="line">Checking the license <span class="keyword">for</span> package Android SDK Tools <span class="keyword">in</span> /home/laohoo/AppData/android_sdk/licenses</span><br><span class="line">License <span class="keyword">for</span> package Android SDK Tools accepted.</span><br><span class="line">Preparing <span class="string">&quot;Install Android SDK Tools (revision: 26.1.1)&quot;</span>.</span><br><span class="line"><span class="string">&quot;Install Android SDK Tools (revision: 26.1.1)&quot;</span> ready.</span><br><span class="line">Installing Android SDK Tools <span class="keyword">in</span> /home/laohoo/AppData/android_sdk/tools</span><br><span class="line"><span class="string">&quot;Install Android SDK Tools (revision: 26.1.1)&quot;</span> complete.</span><br><span class="line"><span class="string">&quot;Install Android SDK Tools (revision: 26.1.1)&quot;</span> finished.</span><br><span class="line">Checking the license <span class="keyword">for</span> package Android SDK Build-Tools 30.0.3 <span class="keyword">in</span> /home/laohoo/AppData/android_sdk/licenses</span><br><span class="line">License <span class="keyword">for</span> package Android SDK Build-Tools 30.0.3 accepted.</span><br><span class="line">Preparing <span class="string">&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot;</span>.</span><br><span class="line"><span class="string">&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot;</span> ready.</span><br><span class="line">Installing Android SDK Build-Tools 30.0.3 <span class="keyword">in</span> /home/laohoo/AppData/android_sdk/build-tools/30.0.3</span><br><span class="line"><span class="string">&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot;</span> complete.</span><br><span class="line"><span class="string">&quot;Install Android SDK Build-Tools 30.0.3 (revision: 30.0.3)&quot;</span> finished.</span><br><span class="line">Checking the license <span class="keyword">for</span> package Android SDK Platform 31 <span class="keyword">in</span> /home/laohoo/AppData/android_sdk/licenses</span><br><span class="line">License <span class="keyword">for</span> package Android SDK Platform 31 accepted.</span><br><span class="line">Preparing <span class="string">&quot;Install Android SDK Platform 31 (revision: 1)&quot;</span>.</span><br><span class="line"><span class="string">&quot;Install Android SDK Platform 31 (revision: 1)&quot;</span> ready.</span><br><span class="line">Installing Android SDK Platform 31 <span class="keyword">in</span> /home/laohoo/AppData/android_sdk/platforms/android-31</span><br><span class="line"><span class="string">&quot;Install Android SDK Platform 31 (revision: 1)&quot;</span> complete.</span><br><span class="line"><span class="string">&quot;Install Android SDK Platform 31 (revision: 1)&quot;</span> finished.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>此处安装的 <code>Android SDK</code> 组件版本不正确, 在第一次运行程序的时候, 会自动下载正确的版本</p>
</blockquote>
<h1 id="设置-Gradle-国内镜像"><a href="#设置-Gradle-国内镜像" class="headerlink" title="设置 Gradle 国内镜像"></a>设置 <code>Gradle</code> 国内镜像</h1><h2 id="Gradle-导致的运行问题"><a href="#Gradle-导致的运行问题" class="headerlink" title="Gradle 导致的运行问题"></a><code>Gradle</code> 导致的运行问题</h2><p><code>flutter</code> 默认使用 <code>Gradle</code> 管理项目, 第一次运行时, 除了检查 <code>Android SDK</code> 组件并下载正确的版本外, 还会安装和 <code>Flutter SDK</code> 匹配的 <code>Gradle</code>, <code>Flutter SDK 3.3.4</code> 使用的是 <code>gradle-7.4</code>。</p>
<p><code>Gradle</code> 添加成功后才会下载当前项目所需要的其他包和组件, 由于 <code>Gradle</code> 默认使用的源是国外的服务器,　所以网络状况不好时通常出现类似以下的错误信息:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Sources/flutter_repos/my_store_app$ flutter run</span><br><span class="line">Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this <span class="built_in">source</span>!</span><br><span class="line">Using hardware rendering with device Android SDK built <span class="keyword">for</span> x86 64. If you notice graphics artifacts, consider enabling software rendering</span><br><span class="line">with <span class="string">&quot;--enable-software-rendering&quot;</span>.</span><br><span class="line">Launching lib/main.dart on Android SDK built <span class="keyword">for</span> x86 64 <span class="keyword">in</span> debug mode...</span><br><span class="line"></span><br><span class="line">FAILURE: Build failed with an exception.</span><br><span class="line"></span><br><span class="line">* What went wrong:</span><br><span class="line">Execution failed <span class="keyword">for</span> task <span class="string">&#x27;:app:compileDebugKotlin&#x27;</span>.</span><br><span class="line">&gt; Could not resolve all dependencies <span class="keyword">for</span> configuration <span class="string">&#x27;:app:kotlinCompilerClasspath&#x27;</span>.</span><br><span class="line">   &gt; Could not load module metadata from /home/laohoo/.gradle/caches/modules-2/metadata-2.97/descriptors/org.jetbrains.kotlin/kotlin-script-runtime/1.6.10/a8be1fe3b3911d3d3425fe720cf42835/descriptor.bin</span><br><span class="line"></span><br><span class="line">* Try:</span><br><span class="line">&gt; Run with --stacktrace option to get the stack trace.</span><br><span class="line">&gt; Run with --info or --debug option to get more <span class="built_in">log</span> output.</span><br><span class="line">&gt; Run with --scan to get full insights.</span><br><span class="line"></span><br><span class="line">* Get more <span class="built_in">help</span> at https://help.gradle.org</span><br><span class="line"></span><br><span class="line">BUILD FAILED <span class="keyword">in</span> 1s</span><br><span class="line">Running Gradle task <span class="string">&#x27;assembleDebug&#x27;</span>...                           2,548ms</span><br><span class="line">Exception: Gradle task assembleDebug failed with <span class="built_in">exit</span> code 1</span><br></pre></td></tr></table></figure>

<h2 id="解决办法"><a href="#解决办法" class="headerlink" title="解决办法"></a>解决办法</h2><p>在 <code>$HOME/.gradle</code> 文件夹下新建名为 <code>init.gradle</code> 的文件, 文件内容编辑如下:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">allprojects&#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        def ALIYUN_REPOSITORY_URL = &#x27;https://maven.aliyun.com/repository/public/&#x27;</span><br><span class="line">        def ALIYUN_JCENTER_URL = &#x27;https://maven.aliyun.com/repository/jcenter/&#x27;</span><br><span class="line">        def ALIYUN_GOOGLE_URL = &#x27;https://maven.aliyun.com/repository/google/&#x27;</span><br><span class="line">        def ALIYUN_GRADLE_PLUGIN_URL = &#x27;https://maven.aliyun.com/repository/gradle-plugin/&#x27;</span><br><span class="line">        all &#123; ArtifactRepository repo -&gt;</span><br><span class="line">            if(repo instanceof MavenArtifactRepository)&#123;</span><br><span class="line">                def url = repo.url.toString()</span><br><span class="line">                if (url.startsWith(&#x27;https://repo1.maven.org/maven2/&#x27;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_REPOSITORY_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">                if (url.startsWith(&#x27;https://jcenter.bintray.com/&#x27;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_JCENTER_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">                if (url.startsWith(&#x27;https://dl.google.com/dl/android/maven2/&#x27;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_GOOGLE_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">                if (url.startsWith(&#x27;https://plugins.gradle.org/m2/&#x27;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_GRADLE_PLUGIN_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        maven &#123; url ALIYUN_REPOSITORY_URL &#125;</span><br><span class="line">        maven &#123; url ALIYUN_JCENTER_URL &#125;</span><br><span class="line">        maven &#123; url ALIYUN_GOOGLE_URL &#125;</span><br><span class="line">        maven &#123; url ALIYUN_GRADLE_PLUGIN_URL &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> buildscript&#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        def ALIYUN_REPOSITORY_URL = &#x27;https://maven.aliyun.com/repository/public/&#x27;</span><br><span class="line">        def ALIYUN_JCENTER_URL = &#x27;https://maven.aliyun.com/repository/jcenter/&#x27;</span><br><span class="line">        def ALIYUN_GOOGLE_URL = &#x27;https://maven.aliyun.com/repository/google/&#x27;</span><br><span class="line">        def ALIYUN_GRADLE_PLUGIN_URL = &#x27;https://maven.aliyun.com/repository/gradle-plugin/&#x27;</span><br><span class="line">        all &#123; ArtifactRepository repo -&gt;</span><br><span class="line">            if(repo instanceof MavenArtifactRepository)&#123;</span><br><span class="line">                def url = repo.url.toString()</span><br><span class="line">                if (url.startsWith(&#x27;https://repo1.maven.org/maven2/&#x27;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_REPOSITORY_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">                if (url.startsWith(&#x27;https://jcenter.bintray.com/&#x27;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_JCENTER_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">                if (url.startsWith(&#x27;https://dl.google.com/dl/android/maven2/&#x27;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_GOOGLE_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">                if (url.startsWith(&#x27;https://plugins.gradle.org/m2/&#x27;)) &#123;</span><br><span class="line">                    project.logger.lifecycle &quot;Repository $&#123;repo.url&#125; replaced by $ALIYUN_GRADLE_PLUGIN_URL.&quot;</span><br><span class="line">                    remove repo</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        maven &#123; url ALIYUN_REPOSITORY_URL &#125;</span><br><span class="line">        maven &#123; url ALIYUN_JCENTER_URL &#125;</span><br><span class="line">        maven &#123; url ALIYUN_GOOGLE_URL &#125;</span><br><span class="line">        maven &#123; url ALIYUN_GRADLE_PLUGIN_URL &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在第一次运行 <code>Flutter</code> 项目, 下载了 <code>Gradle</code> 之后, 就会创建 <code>$HOME/.gradle</code> 文件夹, 该文件夹是隐藏文件夹。</p>
</blockquote>
<p>再次运行项目, 命令执行过程如下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">laohoo@laohoo-Inspiron-7559:~/Sources/flutter_repos/my_store_app$ flutter run</span><br><span class="line">Flutter assets will be downloaded from https://storage.flutter-io.cn. Make sure you trust this <span class="built_in">source</span>!</span><br><span class="line">Using hardware rendering with device Android SDK built <span class="keyword">for</span> x86 64. If you notice graphics artifacts, consider enabling software rendering with <span class="string">&quot;--enable-software-rendering&quot;</span>.</span><br><span class="line">Launching lib/main.dart on Android SDK built <span class="keyword">for</span> x86 64 <span class="keyword">in</span> debug mode...</span><br><span class="line">Running Gradle task <span class="string">&#x27;assembleDebug&#x27;</span>...                             93.9s</span><br><span class="line">✓  Built build/app/outputs/flutter-apk/app-debug.apk.</span><br><span class="line">Installing build/app/outputs/flutter-apk/app.apk...              1,034ms</span><br><span class="line">Syncing files to device Android SDK built <span class="keyword">for</span> x86 64...            211ms</span><br><span class="line"></span><br><span class="line">Flutter run key commands.</span><br><span class="line">r Hot reload. 🔥🔥🔥</span><br><span class="line">R Hot restart.</span><br><span class="line">h List all available interactive commands.</span><br><span class="line">d Detach (terminate <span class="string">&quot;flutter run&quot;</span> but leave application running).</span><br><span class="line">c Clear the screen</span><br><span class="line">q Quit (terminate the application on the device).</span><br><span class="line"></span><br><span class="line">💪 Running with sound null safety 💪</span><br><span class="line"></span><br><span class="line">An Observatory debugger and profiler on Android SDK built <span class="keyword">for</span> x86 64 is available at: http://127.0.0.1:42339/XnPsnajGgW8=/</span><br><span class="line">The Flutter DevTools debugger and profiler on Android SDK built <span class="keyword">for</span> x86 64 is available at: http://127.0.0.1:9101?uri=http://127.0.0.1:42339/XnPsnajGgW8=/</span><br></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;&#x3D; END &#x3D;&#x3D;&#x3D;</p>
<hr>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://hujiyi.github.io">laohoodman</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://hujiyi.github.io/2022/10/09/install-flutter-on-linux-mint-21/">https://hujiyi.github.io/2022/10/09/install-flutter-on-linux-mint-21/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://hujiyi.github.io" target="_blank">Laohoo</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/flutter/">flutter</a><a class="post-meta__tags" href="/tags/command-line-tools/">command-line tools</a></div><div class="post-share"><div class="social-share" data-image="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="/pluginsSrc/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="/pluginsSrc/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2022/10/14/code-snippets-of-tampermonkey/" title="TamperMonkey 常用的代码"><img class="cover" src="https://hujiyi.github.io/2022/10/14/code-snippets-of-tampermonkey/tm.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">TamperMonkey 常用的代码</div></div><div class="info-2"><div class="info-item-1">偶尔会写一些 TamperMonkey 的脚本, 但每次间隔时间久了之后, 就经常忘记要怎么写了, 所以在这里记录一下一些常用的代码段, 有需要的时候可以直接拿来使用。 使用 insertAdjacentHTML 添加 HTML 代码1234567891011// 添加样式或其他HTML元素let style = `&lt;style&gt;    .sidebar &#123;        display: none !important;    &#125;    .content&#123;        margin: 0 !important;    &#125;&lt;/style&gt;`;document.head.insertAdjacentHTML(&#x27;beforeend&#x27;, style);   insertAdjacentHTML() 方法将指定的文本解析为 Element 元素，并将结果节点插入到 DOM...</div></div></div></a><a class="pagination-related" href="/2022/09/25/windows-install-java-jdk/" title="在 Windows 中同时安装多个 JDK"><img class="cover" src="https://hujiyi.github.io/2020/02/29/use-hexo-tag-cloud/default_bg.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">在 Windows 中同时安装多个 JDK</div></div><div class="info-2"><div class="info-item-1">最近进行开发的时候, 遇到了一些不同 JDK 版本的需求: Spring Boot 2 的开发框架 eladmin-plus 只能使用 JDK 8; 新版本的 Flutter SDK 配置 Android Toolchain 时最低要求 JDK 11; 而最新版的 Spring Boot 最低的 JDK 版本是 JDK 17。 想在同一台电脑完成上面的开发, 比较好的作法当然是在一台电脑上安装多个版本的 JDK, 根据需要随时进行切换。 安装版和解压版 JDK安装版的 JDK 会添加一些环境变量到电脑中, 如果这些环境变量不进行处理, 会对切换后的其他版本JDK 造成影响, 所以在 Windows 中同地安装多个版本的 JDK时, 建议使用解压版。 现在 Oracle 已经不提供解压版的JDK了, 所以要自己进行制作。 制作解压版的 Oracle JDK 下载安装各版本JDK(例如 JDK 8, JDK11, JDK17等) 的安装程序  运行安装程序, 参考下图的步骤, 复制 JDK 到另一个位置      复制出来的就是我们需要的解压版JDK, 复制成功后,...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/2022/03/18/build-flutter-dev-environment-with-cmdline-tools/" title="使用 Android SDK 命令行工具搭建 Flutter 开发环境"><img class="cover" src="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-18</div><div class="info-item-2">使用 Android SDK 命令行工具搭建 Flutter 开发环境</div></div><div class="info-2"><div class="info-item-1">准备的软件： Flutter SDK (stable channel), 下载地址：https://docs.flutter.dev/development/tools/sdk/releases  OpenJDK 11 (可以使用其他的 JDK, 最低版本要求是 11, 可以使用更高版本的 JDK )  Android SDK Command-line Tools(latest) 下载地址：https://developer.android.google.cn/studio?hl=zh-cn#command-tools  Visual Studio Code 下载地址：https://code.visualstudio.com/Download  雷电模拟器、 夜神模拟器 或 Android Studio 自带的模拟器任选一个（也可以使用其他可以连接到开发工具的模拟器）,雷电模拟器 安装好即可使用; 夜神模拟器 需要做一个额外的配置。    最新版的 Android Studio 安装文件夹下的 jre 文件夹是自带的 OpenJDK 11.0.10, 我从另外一台安装有...</div></div></div></a><a class="pagination-related" href="/2021/12/04/flutter-development-environment-configuration/" title="在 Windows 10&#x2F;11 配置 Flutter 开发环境"><img class="cover" src="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2021-12-04</div><div class="info-item-2">在 Windows 10&#x2F;11 配置 Flutter 开发环境</div></div><div class="info-2"><div class="info-item-1">关联文章 在 Windows 中同时安装多个 JDK  使用 Android SDK 命令行工具搭建 Flutter 开发环境   安装 Flutter SDKFlutter 到现在为止, 还处于高速发展的初始阶段, Flutter SDK 的各个大版本之间, 存在一些不兼容的情况, 所以建议选择使用 stable 发行通道的 Flutter SDK 最新版本。 下载 Flutter SDKFlutter SDK 下载地址：  Flutter 官方网站：https://docs.flutter.dev/development/tools/sdk/releases  清华大学镜像：https://mirrors.tuna.tsinghua.edu.cn/flutter/flutter_infra_release/releases/stable/windows/   解压 Flutter SDK将压缩包解压, 然后把其中的 flutter 目录整个放在你想放置 Flutter SDK 的路径中（例如 D:\AppData, 解压后路径为: D:\AppData\flutter）,...</div></div></div></a><a class="pagination-related" href="/2023/02/27/flutter-tutorial-toc/" title="Flutter Tutorial Table Of Content"><img class="cover" src="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-27</div><div class="info-item-2">Flutter Tutorial Table Of Content</div></div><div class="info-2"><div class="info-item-1"> 目录 基础组件 Flutter 基础组件 - 图片和图标组件  布局组件 Flutter 布局组件 - 水平&#x2F;垂直组件(Row&#x2F;Column)  [Flutter 布局组件 - 叠加布局组件(Stack&#x2F;IndexedStack)]  [Flutter 布局组件 - 流式布局组件(Wrap)]  [Flutter 布局组件 - 自定义布局组件(Flow)]   定位装饰权重组件 Flutter 定位装饰权重组件 - 定位装饰组件(Container)  滚动组件 [Flutter 滚动组件 - ListView]  [Flutter 滚动组件 - GridView]  [Flutter 滚动组件 - PageView]   数据组件 [Flutter 数据组件 - DataTable]  布局实例 Flutter 布局实例 - 静态布局构建实例  [Flutter 布局实例 - 无限滚动布局实例]   状态管理 Flutter Riverpod 使用示例 - 计数器  开始使用 Flutter Riverpod 进行状态管理(一)  开始使用...</div></div></div></a><a class="pagination-related" href="/2022/05/04/use-freezed-with-flutter/" title="在 Flutter 中使用 Freezed"><img class="cover" src="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-04</div><div class="info-item-2">在 Flutter 中使用 Freezed</div></div><div class="info-2"><div class="info-item-1">https://github.com/rrousselGit/freezed https://www.developer.school/tutorials/how-to-use-freezed-with-flutter https://runble1.com/flutter-freezed-tutorial/ Freezed 是一个不可变类的代码生成器, 用于数据类&#x2F;联合&#x2F;模式匹配&#x2F;克隆的代码生成器。不可变类的代码生成具有简单的语法&#x2F;API，而不会影响功能。 在 Dart/Flutter 中定义模型(model)的时候, 经常要附加以下的工作：  定义一个构造函数+属性 覆盖 toString、运算符 &#x3D;&#x3D;、hashCode 实现一个 copyWith 方法来克隆对象 处理反序列化  除此之外，Dart 还缺少联合类型和模式匹配等功能。实现所有这些可能需要数百行代码，这很容易出错并且模型的可读性显着。 Freezed...</div></div></div></a><a class="pagination-related" href="/2022/04/09/flutter-navigator-using-go-router/" title="在 Flutter中使用 go_router 配置路由"><img class="cover" src="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2022-04-09</div><div class="info-item-2">在 Flutter中使用 go_router 配置路由</div></div><div class="info-2"><div class="info-item-1">go_router 基于 Navigation 2 的 Flutter 声明式路由, 通过使用声明式路由来降低复杂性, 适用于各种不同的目标平台(mobile、Web、desktop), 是由 Flutter 生态系统委员会选出的表现出最高质量水平的软件包(Flutter Favorites)。 开发环境： Microsoft Windows 10 Enterprise LTSC [Version 10.0.19044.1586], locale zh-CN  Flutter 2.10.3 • Channel Stable, Dart 2.16.1   Visual Studio Code, 64-bit edition (version 1.66.1)  OpenJDK Runtime Environment (build 11.0.11+9-b60-7590822)  Android SDK version 30.0.3, Platform android-31, build-tools 30.0.3   新建项目执行命令，创建新项目：flutter create...</div></div></div></a><a class="pagination-related" href="/2021/02/04/flutter-introduction-part-II/" title="flutter introduction part II：使用Provider 的深浅色模式和多语言切换"><img class="cover" src="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="far fa-calendar-alt fa-fw"></i> 2021-02-04</div><div class="info-item-2">flutter introduction part II：使用Provider 的深浅色模式和多语言切换</div></div><div class="info-2"><div class="info-item-1">上一节创建了项目，并通过 Intl 实现在项目的多语言国际化支持。但是还没有在项目提供多语言的切换功能。 这一节除了实现多语言的选择切换功能，还同时实现项目的深色、浅色主题切换，需要用过以下两个包：  Provider: Provider是 Google I/O 2019官方推荐的状态管理方式，是一套实现跨组件状态共享的解决方案。  shared_preferences : shared_preferences 是一个轻量级存储类，以键值对的形式保存设置，属性和数据。   准备工作在项目的 pubspec.yaml 文件中增加以下包依赖： Provider的最新版本查询：https://pub.dev/packages/providershared_preferences的最新版本查询：https://pub.dev/packages/shared_preferences 123456789101112dependencies:  flutter:    sdk: flutter  # 国际化  flutter_localizations:    sdk: flutter ...</div></div></div></a></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://hujiyi.github.io/2020/02/29/use-hexo-tag-cloud/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">laohoodman</div><div class="author-info-description">如果你交给某人一个程序，你将折磨他一整天；如果你教某人如何编写程序，你将折磨他一辈子。 —— David Leinweber.</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">62</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">56</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">19</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/hujiyi"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/hujiyi" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">开发环境：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Flutter-SDK"><span class="toc-number">2.</span> <span class="toc-text">安装 Flutter SDK</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Linux-%E5%B7%A5%E5%85%B7%E9%93%BE-Linux-toolchain-develop-for-Linux-desktop"><span class="toc-number">3.</span> <span class="toc-text">安装 Linux 工具链(Linux toolchain - develop for Linux desktop)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%AF%E8%83%BD%E5%87%BA%E7%8E%B0%E7%9A%84%E9%94%99%E8%AF%AF"><span class="toc-number">3.1.</span> <span class="toc-text">可能出现的错误</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Android-toolchain"><span class="toc-number">4.</span> <span class="toc-text">安装 Android toolchain</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Command-line-Tools%E5%AE%89%E8%A3%85-Android-SDK"><span class="toc-number">4.1.</span> <span class="toc-text">使用Command-line Tools安装 Android SDK</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E6%A8%A1%E6%8B%9F%E5%99%A8"><span class="toc-number">5.</span> <span class="toc-text">安装模拟器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E6%A8%A1%E6%8B%9F%E5%99%A8%E7%A1%AC%E4%BB%B6%E5%8A%A0%E9%80%9F"><span class="toc-number">6.</span> <span class="toc-text">配置模拟器硬件加速</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BAAndroid%E6%A8%A1%E6%8B%9F%E5%99%A8"><span class="toc-number">7.</span> <span class="toc-text">创建Android模拟器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E6%A8%A1%E6%8B%9F%E5%99%A8"><span class="toc-number">8.</span> <span class="toc-text">启动模拟器</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA-Flutter-%E9%A1%B9%E7%9B%AE"><span class="toc-number">9.</span> <span class="toc-text">创建 Flutter 项目</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%BF%90%E8%A1%8C%E9%A1%B9%E7%9B%AE"><span class="toc-number">10.</span> <span class="toc-text">运行项目</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE-Gradle-%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F"><span class="toc-number">11.</span> <span class="toc-text">设置 Gradle 国内镜像</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Gradle-%E5%AF%BC%E8%87%B4%E7%9A%84%E8%BF%90%E8%A1%8C%E9%97%AE%E9%A2%98"><span class="toc-number">11.1.</span> <span class="toc-text">Gradle 导致的运行问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95"><span class="toc-number">11.2.</span> <span class="toc-text">解决办法</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/11/16/learn-vue3-000/" title="Learn Vue3 目录"><img src="https://hujiyi.github.io/2024/11/16/hello-world/00/vuetoc.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Learn Vue3 目录"/></a><div class="content"><a class="title" href="/2024/11/16/learn-vue3-000/" title="Learn Vue3 目录">Learn Vue3 目录</a><time datetime="2024-11-16T12:35:53.000Z" title="发表于 2024-11-16 20:35:53">2024-11-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/02/27/flutter-tutorial-toc/" title="Flutter Tutorial Table Of Content"><img src="https://hujiyi.github.io/2021/02/02/flutter-introduction-part-I/flutter_eman_blog.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Flutter Tutorial Table Of Content"/></a><div class="content"><a class="title" href="/2023/02/27/flutter-tutorial-toc/" title="Flutter Tutorial Table Of Content">Flutter Tutorial Table Of Content</a><time datetime="2023-02-27T05:11:08.000Z" title="发表于 2023-02-27 13:11:08">2023-02-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/02/16/linux-from-scratch-toc/" title="从 Linux From Scratch 构建自己的操作系统 - 目录"><img src="https://hujiyi.github.io/2023/02/16/linux-from-scratch-toc/Linux-From-Scratch.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="从 Linux From Scratch 构建自己的操作系统 - 目录"/></a><div class="content"><a class="title" href="/2023/02/16/linux-from-scratch-toc/" title="从 Linux From Scratch 构建自己的操作系统 - 目录">从 Linux From Scratch 构建自己的操作系统 - 目录</a><time datetime="2023-02-16T05:04:02.000Z" title="发表于 2023-02-16 13:04:02">2023-02-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/01/05/installing-mysql-zip-archive-in-windows/" title="在 Windows 安装解压版的 MySQL 8"><img src="https://hujiyi.github.io/2023/01/05/installing-mysql-zip-archive-in-windows/admin-mysql-logo900.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在 Windows 安装解压版的 MySQL 8"/></a><div class="content"><a class="title" href="/2023/01/05/installing-mysql-zip-archive-in-windows/" title="在 Windows 安装解压版的 MySQL 8">在 Windows 安装解压版的 MySQL 8</a><time datetime="2023-01-05T05:05:51.000Z" title="发表于 2023-01-05 13:05:51">2023-01-05</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/11/21/build-vue3-desktop-app-with-vite-electron-vuetify/" title="使用 electron 和 vuetify 创建 Vue3 桌面应用程序"><img src="/2022/11/21/build-vue3-desktop-app-with-vite-electron-vuetify/electron.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 electron 和 vuetify 创建 Vue3 桌面应用程序"/></a><div class="content"><a class="title" href="/2022/11/21/build-vue3-desktop-app-with-vite-electron-vuetify/" title="使用 electron 和 vuetify 创建 Vue3 桌面应用程序">使用 electron 和 vuetify 创建 Vue3 桌面应用程序</a><time datetime="2022-11-21T01:23:54.000Z" title="发表于 2022-11-21 09:23:54">2022-11-21</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By laohoodman</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script src="/js/jquery.min.js"></script><script src="/js/fishes.js"></script><script src="/js/fish.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/pluginsSrc/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>